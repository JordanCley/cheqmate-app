(this["webpackJsonpcheqmate-app"]=this["webpackJsonpcheqmate-app"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(0),l=a.n(r),c=a(17),u=a.n(c),o=a(24),m=a(6),i=a(11),s=a.n(i),E=(a(12),a(23)),d=a(47),p=a(18),h=a(9);a(96).config();var g="http://ec2-54-151-62-58.us-west-1.compute.amazonaws.com",v=function(e){return s.a.get("".concat(g,"/api/user/").concat(e))},f=function(){return s.a.get("".concat(g,"/api/products"))},b=function(e,t,a,n,r,l,c){return s.a.post("".concat(g,"/api/order/new"),{order_items:e,total_items:t,total:a,table_number:n,gratuity:r,tax:l,grand_total:c})},k=function(e,t,a,n,r,l,c,u){return s.a.put("".concat(g,"/api/update_order_paid/").concat(e),{order_items:t,total_items:a,table_number:n,total:r,gratuity:l,tax:c,grand_total:u})},C=function(){return s.a.get("".concat(g,"/api/order/view_all_past_orders"))},N=function(e){return s.a.get("".concat(g,"/api/order/view_past_order/").concat(e))},O=function(e,t,a,n){return s.a.post("".concat(g,"/api/signup"),{first_name:e,last_name:t,email:a,password:n})},y=Object(r.createContext)(),x=function(e){var t={order_items:[],total_items:0,total:0,table_number:null,gratuity:0,tax:7.25,grand_total:0},a=Object(r.useState)({tipMethod:"radioTip"}),n=Object(h.a)(a,2),c=n[0],u=n[1],o=Object(r.useState)(!1),m=Object(h.a)(o,2),i=m[0],s=m[1],g=Object(r.useState)(""),v=Object(h.a)(g,2),O=v[0],x=v[1],_=Object(r.useState)(""),j=Object(h.a)(_,2),S=j[0],w=j[1],I=Object(r.useState)({}),T=Object(h.a)(I,2),B=T[0],F=T[1],P=Object(r.useState)(null),q=Object(h.a)(P,2),z=q[0],A=q[1],L=Object(r.useState)([]),M=Object(h.a)(L,2),D=M[0],G=M[1],K=Object(r.useState)({}),R=Object(h.a)(K,2),$=R[0],Q=R[1],V=Object(r.useState)(!1),J=Object(h.a)(V,2),Y=J[0],U=J[1],H=Object(r.useState)([]),W=Object(h.a)(H,2),X=W[0],Z=W[1],ee=Object(r.useState)({}),te=Object(h.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(t),le=Object(h.a)(re,2),ce=le[0],ue=le[1];Object(r.useEffect)((function(){f().then((function(e){Z(e.data)})).catch((function(e){return A("Request failed with status code: ".concat(e.response.status))})),s(!1)}),[Y]),Object(r.useEffect)((function(){!function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a].price*e[a].quantity;ue(Object(p.a)({},ce,{total:t}))}(ce.order_items)}),[ce.order_items]),Object(r.useEffect)((function(){me(B)}),[B.gratuity]);var oe=function(e){if(ce.order_items.length){var t=X.filter((function(t){return t.id===e}));(t=t[0]).quantity=0;var a=ce.order_items.filter((function(t){return t.product_id!==e}));ue(Object(p.a)({},ce,{order_items:Object(d.a)(a)}))}else A("Error: There are no items in cart")},me=function(e){var t=e.total*(e.gratuity/100),a=e.total*(e.tax/100),n=e.total+(t+a);F(Object(p.a)({},B,{grand_total:n}))};return l.a.createElement(y.Provider,{value:{initialState:t,orderState:ce,pastOrderState:D,createOrderClick:function(){return b(ce.order_items,ce.total_items,ce.total,ce.table_number,ce.gratuity,ce.tax,ce.grand_total).then((function(e){return F(e.data)})).then((function(){return U(!1)})).catch((function(e){return A("Request failed with status code: ".concat(e.response.status))}))},viewAllOrdersClick:function(){return C().then((function(e){return G(e.data)})).catch((function(e){return A("Request failed with status code: ".concat(e.response.status))}))},updateIsOrderPaidClick:function(){return k(B.id,B.order_items,B.total_items,B.table_number,B.total,B.gratuity,B.tax,B.grand_total).then((function(){return U(!0)})).then((function(){return F({})})).catch((function(e){return A("Request failed with status code: ".concat(e.response.status))}))},viewPastOrderState:$,viewOnePastOrder:function(e){return N(e).then((function(e){return Q(e.data)})).catch((function(e){return A("Request failed with status code: ".concat(e.response.status))}))},productsState:X,addItemToCart:function(e){var t=X.filter((function(t){return t.id===e}));(t=t[0]).quantity?t.quantity++:t.quantity=1;var a=ce.order_items.filter((function(t){return t.product_id!==e}));ue(Object(p.a)({},ce,{order_items:[].concat(Object(d.a)(a),[{product_id:t.id,quantity:t.quantity,price:t.price,product_name:t.product_name}])}))},removeItemFromCart:oe,decrementQuantity:function(e){var t=ce.order_items.filter((function(t){return t.product_id===e}));if(1===(t=t[0]).quantity)return oe(e);t.quantity--;var a=ce.order_items.filter((function(t){return t.product_id!==e}));ue(Object(p.a)({},ce,{order_items:[].concat(Object(d.a)(a),[t])}))},handleInputChange:function(e){var t=e.target,a=t.name,n=t.value;ue(Object(p.a)({},ce,Object(E.a)({},a,n)))},viewOneAppetizer:function(e){var t=X.filter((function(t){return t.id===e}));t=t[0],ne(t)},viewAppetizerState:ae,calculateGrandTotal:me,resetTipMethod:function(){u({tipMethod:"radioTip"})},openCheckState:B,handleTipChange:function(e){var t=e.target,a=t.name,n=t.value;F(Object(p.a)({},B,Object(E.a)({},a,n)))},setOpenCheckState:F,tipMethodState:c,handleTipMethodChange:function(e){var t=e.target,a=t.name,n=t.value;u(Object(E.a)({},a,n))},setOrderState:ue,errorState:z,setErrorState:A,email:O,setEmail:x,password:S,setPassword:w,isLoading:i,setIsLoading:s}},e.children)},_=a(64),j=a(65),S=a(51),w=a.n(S),I=function(){function e(){Object(_.a)(this,e)}return Object(j.a)(e,[{key:"login",value:function(e,t){var a=this;return s.a.post("".concat(g,"/api/login"),{email:e,password:t}).then((function(e){return a.setToken(e.data.token),e}))}},{key:"getProfile",value:function(){return w()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return w()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"setToken",value:function(e){s.a.defaults.headers.common.Authorization="Bearer ".concat(e),localStorage.setItem("id_token",e)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"logout",value:function(){s.a.defaults.headers.common.Authorization=null,localStorage.removeItem("id_token"),window.location.reload("/")}}]),e}(),T=Object(r.createContext)(),B=new I,F=function(e){e.value;var t=Object(n.a)(e,["value"]),a=B.loggedIn(),c=Object(r.useState)(a?B.getProfile():null),u=Object(h.a)(c,2),o=u[0],m=u[1];return l.a.createElement(T.Provider,Object.assign({value:{user:o,isLoggedIn:a,login:function(e,t){return B.login(e,t).then((function(){return m(B.getProfile())}))},logout:function(){return B.logout()}}},t))},P=function(){return Object(r.useContext)(T)},q=a(30),z=a.n(q),A=a(110),L=a(111),M=a(66),D=a.n(M),G=function(){return l.a.createElement(A.a,{id:"footer"},l.a.createElement("p",null,"\xa9 2020 Cheqmate Inc. All Rights Reserved.",l.a.createElement("img",{src:D.a,className:"q-logo ml-1 mr-2",alt:"Q-logo"})))},K=a(122),R=function(e){var t=Object(r.useContext)(y),a=t.errorState,n=t.setErrorState;return l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{key:2,variant:e.variant},e.message?e.message:a),l.a.createElement(m.b,{onClick:function(){return n(null)},to:e.to},l.a.createElement(L.a,{className:"success-Btn",variant:e.button},e.text)))};var $=function(){var e=Object(r.useContext)(y).errorState,t=P(),a=t.user,n=t.logout,c=Object(o.g)();return l.a.createElement(A.a,{className:"main-Container img-background"},null!==e?l.a.createElement(R,{text:"Exit",variant:"danger",to:"/login",button:"outline-danger"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("img",{src:z.a,className:"app-logo",alt:"logo"}),l.a.createElement("br",null),l.a.createElement("h2",null,"Welcome ",a.first_name,"!"),l.a.createElement("div",null,l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger mx-2",onClick:function(){return n()}},"Logout"),l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success",onClick:function(){return c.push("/table")}},"Enter Table Number")))),l.a.createElement(G,null))};var Q=function(){var e=Object(o.g)(),t=P(),a=t.isLoggedIn,n=t.login,c=Object(r.useContext)(y),u=c.errorState,i=c.setErrorState,s=c.email,E=c.setEmail,d=c.password,p=c.setPassword;return a||null!==u?l.a.createElement(o.a,{to:"/"}):l.a.createElement(A.a,{className:"main-Container img-background"},l.a.createElement("h1",null,"Login"),l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),n(s,d).then((function(){return e.push("/")})).catch((function(e){i(e.response.data.message)}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address:"),l.a.createElement("input",{className:"form-control",placeholder:"JohnD@Bloomin.com",name:"email",type:"email",id:"email",value:s,onChange:function(e){var t=e.target;return E(t.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"pwd"},"Password:"),l.a.createElement("input",{className:"form-control",placeholder:"********",name:"password",type:"password",id:"pwd",value:d,onChange:function(e){var t=e.target;return p(t.value)}})),l.a.createElement(L.a,{type:"submit",className:"success-Btn",variant:"outline-success mb-4"},"Submit")),l.a.createElement("div",null,l.a.createElement("p",null,"New to CheqMate mate?"),l.a.createElement(m.b,{to:"/signup"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-primary"},"Go to Signup"))))};var V=function(){return l.a.createElement(A.a,{className:"main-Container img-background"},l.a.createElement(Q,null),l.a.createElement(G,null))};var J=function(){var e=Object(r.useState)({}),t=Object(h.a)(e,2),a=t[0],n=t[1],c=P().user,u=Object(r.useContext)(y),o=u.viewAllOrdersClick,i=u.setErrorState,s=u.errorState;return Object(r.useEffect)((function(){v(c.id).then((function(e){n(e.data)})).catch((function(e){i(e)}))}),[c]),l.a.createElement(A.a,null,s?l.a.createElement(K.a,{key:2,variant:"danger"},s):"",l.a.createElement("h1",null,"Welcome!"),l.a.createElement("span",null),l.a.createElement("h1",null,"".concat(a.first_name," ").concat(a.last_name)),l.a.createElement(m.b,{to:"orders"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success mx-2",onClick:o},"View All Past Orders")),l.a.createElement(m.b,{to:"/"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success"},"Go home")))};var Y=function(){return l.a.createElement(A.a,{className:"main-Container img-background"},l.a.createElement(J,null),l.a.createElement(G,null))};var U=function(){var e=Object(r.useContext)(y),t=e.errorState,a=e.setErrorState,n=Object(r.useState)({first_name:"",last_name:"",email:"",password:""}),c=Object(h.a)(n,2),u=c[0],i=c[1],s=P().isLoggedIn,d=Object(o.g)();if(s)return l.a.createElement(o.a,{to:"/"});var g=function(e){var t=e.target,a=t.name,n=t.value;i(Object(p.a)({},u,Object(E.a)({},a,n)))};return l.a.createElement(A.a,null,null!==t?l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{key:2,variant:"danger"},t),l.a.createElement(m.b,{onClick:function(){return a(null)},to:"/signup"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger"},"Exit"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Signup"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O(u.first_name,u.last_name,u.email,u.password).then((function(){d.replace("/login")})).catch((function(e){return a(e.response.data.message)}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"first_name"},"First Name:"),l.a.createElement("input",{className:"form-control",placeholder:"Joe",name:"first_name",type:"text",id:"first_name",onChange:g})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"last_name"},"Last Name:"),l.a.createElement("input",{className:"form-control",placeholder:"Exotic",name:"last_name",type:"text",id:"last_name",onChange:g})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address:"),l.a.createElement("input",{className:"form-control",placeholder:"TigerKing@ItwasthatBCaroleBaskin.com",name:"email",type:"email",id:"email",onChange:g})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"pwd"},"Password:"),l.a.createElement("input",{className:"form-control",placeholder:"********",name:"password",type:"password",id:"pwd",onChange:g})),l.a.createElement(L.a,{type:"submit",className:"success-Btn",variant:"outline-success mb-4"},"Submit")),l.a.createElement("h4",null,"Already have an account with us?"),l.a.createElement(m.b,{to:"/login"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-primary"},"Go to Login"))))};var H=function(){return l.a.createElement(A.a,{className:"main-Container img-background"},l.a.createElement(U,null),l.a.createElement(G,null))};var W=function(){var e=Object(r.useContext)(y).handleInputChange;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table"},"ENTER THE 4 - DIGIT CODE"),l.a.createElement("div",null,"(Found below the QR Code on the Table)"),l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"tableInputForm"}),l.a.createElement("input",{className:"form-control",type:"text",placeholder:"A - 3 - T -2",onChange:e,name:"table_number"}),l.a.createElement(m.b,{to:"/menu"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success mt-3"},"Enter"))))))};var X=function(){return l.a.createElement(A.a,{className:"main-Container"},l.a.createElement(W,null),l.a.createElement(G,null))},Z=a(118),ee=a(113),te=a(114),ae=a(117),ne=a(119),re=a(112),le=function(){return l.a.createElement(A.a,{className:"loading"},l.a.createElement(re.a,{animation:"grow"}))};var ce=function(){var e=Object(r.useContext)(y),t=e.productsState,a=e.addItemToCart,n=e.removeItemFromCart,c=e.viewOneAppetizer;return l.a.createElement(A.a,{className:"mt-1 mb-5"},0===t.length?l.a.createElement(le,null):t.map((function(e){return l.a.createElement(ne.a,{bg:"dark",className:"mt-1",id:"appetizer-card",onClick:function(){return c(e.id)},key:e.id},l.a.createElement(ne.a.Img,{variant:"top",src:e.image_url}),l.a.createElement(ne.a.Body,null,l.a.createElement(ne.a.Title,null,e.product_name),l.a.createElement(ne.a.Text,null,"$",e.price),l.a.createElement(m.b,{to:"/appetizer"}," View Item "),l.a.createElement("br",null),l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success mb-1",onClick:function(){return a(e.id)}},"Add to cart"),l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger mb-1 ml-1",onClick:function(){return n(e.id)}},"Remove from cart")))})))};var ue=function(){var e=Object(r.useContext)(y).errorState;return l.a.createElement("div",{className:"mt-1 img-background2"},null!==e?l.a.createElement(R,{text:"Exit",variant:"danger",to:"/menu",button:"outline-danger"}):l.a.createElement(Z.a.Container,{variant:"dark",defaultActiveKey:"#Appetizers"},l.a.createElement(ee.a,null,l.a.createElement(te.a,{sm:4},l.a.createElement(ae.a,null,l.a.createElement(ae.a.Item,{variant:"dark",action:!0,href:"#Appetizers"},"Appetizers"),l.a.createElement(ae.a.Item,{variant:"dark",action:!0,href:"#Drinks"},"Drinks"),l.a.createElement(ae.a.Item,{variant:"dark",action:!0,href:"#KidsMenu"},"Kid's Menu"),l.a.createElement(ae.a.Item,{variant:"dark",action:!0,href:"#Desserts"},"Desserts"))),l.a.createElement(te.a,{sm:8},l.a.createElement(Z.a.Content,null,l.a.createElement(Z.a.Pane,{className:"ml-3",id:"appetizer-pane",eventKey:"#Appetizers"},l.a.createElement(ce,null)),l.a.createElement(Z.a.Pane,{eventKey:"#Drinks"},l.a.createElement(K.a,{className:"mt-2",variant:"danger"},"\ud83d\udc77 Under Construction: Drinks coming soon!")),l.a.createElement(Z.a.Pane,{eventKey:"#KidsMenu"},l.a.createElement(K.a,{className:"mt-2",variant:"danger"},"\ud83d\udc77 Under Construction: Kid's menu coming soon!")),l.a.createElement(Z.a.Pane,{eventKey:"#Desserts"},l.a.createElement(K.a,{className:"mt-2",variant:"danger"},"\ud83d\udc77 Under Construction: Desserts coming soon!")))))))};var oe=function(){return l.a.createElement(A.a,null,l.a.createElement(ue,null),l.a.createElement(G,null))};var me=function(){var e=Object(r.useContext)(y),t=e.viewAppetizerState,a=e.addItemToCart;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"appetizer-preview-h1"},t.product_name),l.a.createElement("img",{src:t.image_url,alt:"Appetizer",className:"appetizer-preview-image"}),l.a.createElement("p",{className:"appetizer-preview-description"},t.description),l.a.createElement("p",{className:"appetizer-preview-price"},"$",t.price),l.a.createElement(m.b,{to:"/menu"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger mr-1"},"Back")),l.a.createElement(m.b,{to:"/cart"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success",onClick:function(){return a(t.id)}},"Add")))};var ie=function(){return l.a.createElement(A.a,{className:"main-Container"},l.a.createElement(me,null),l.a.createElement(G,null))},se=a(115),Ee=a(29),de=a(20);var pe=function(){var e=Object(r.useContext)(y),t=e.orderState,a=e.addItemToCart,n=e.decrementQuantity;return l.a.createElement(l.a.Fragment,null,l.a.createElement(se.a,{key:t.id,striped:!0,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("h5",null,"Product")),l.a.createElement("th",null,l.a.createElement("h5",null,"\u2b07")),l.a.createElement("th",null,l.a.createElement("h5",null,"\u2b06")),l.a.createElement("th",null,l.a.createElement("h5",null,"Price")))),t.order_items.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",{key:e.id},l.a.createElement("tr",null,l.a.createElement("td",null,"".concat(e.product_name," (").concat(e.quantity,")")),l.a.createElement("td",null,l.a.createElement(L.a,{onClick:function(){return n(e.product_id)},variant:1===e.quantity?"outline-danger":"outline-light"},l.a.createElement(Ee.a,{icon:de.a}))),l.a.createElement("td",null,l.a.createElement(L.a,{onClick:function(){return a(e.product_id)},variant:"outline-light"},l.a.createElement(Ee.a,{icon:de.b}))),l.a.createElement("td",null,"$",e.quantity*e.price))))}))))};var he=function(){var e=Object(r.useContext)(y),t=e.createOrderClick,a=e.setIsLoading,n=e.orderState,c=e.setErrorState,u=Object(o.g)();return l.a.createElement(A.a,{className:"main-Container"},l.a.createElement(pe,null),l.a.createElement("br",null),l.a.createElement(m.b,{to:"/menu"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger mr-1"},"Menu")),l.a.createElement(m.b,{to:"/checkout"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success",onClick:function(){null===n.table_number?(c("Error: You must input a table number!"),u.push("/checkout")):(a(!0),t().then((function(){return u.push("/checkout")})).then((function(){return a(!1)})))}},"Place Order")))};var ge=function(){return l.a.createElement(A.a,{className:"main-Container"},l.a.createElement(he,null),l.a.createElement(G,null))};var ve=function(){var e=Object(r.useContext)(y),t=e.openCheckState,a=e.orderState,n=e.errorState,c=e.setErrorState,u=e.isLoading,o=t.total*(t.tax/100),i=(t.total+o).toFixed(2);return u?l.a.createElement(le,null):l.a.createElement(A.a,null,null!==n?l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{key:2,variant:"danger"},n),l.a.createElement(m.b,{onClick:function(){return c(null)},to:"/table"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger"},"Enter Table Number"))):l.a.createElement(l.a.Fragment,null,l.a.createElement(se.a,{key:a.id,striped:!0,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("h5",null,"Product")),l.a.createElement("th",null,l.a.createElement("h5",null,"Quantity")),l.a.createElement("th",null,l.a.createElement("h5",null,"Price")))),a.order_items.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",{key:e.id},l.a.createElement("tr",null,l.a.createElement("td",null,e.product_name),l.a.createElement("td",null,e.quantity),l.a.createElement("td",null,"$",e.quantity*e.price))))}))),l.a.createElement("div",null,l.a.createElement(se.a,{key:a.id++,striped:!0,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("h5",null,"Total")),l.a.createElement("th",null,l.a.createElement("h5",null,"Tax")),l.a.createElement("th",null,l.a.createElement("h5",null,"Sub Total")))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,a.total),l.a.createElement("td",null,a.tax,"%"),l.a.createElement("td",null,"$",i))))),l.a.createElement(m.b,{to:"/cart"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger"},"Go Back")),l.a.createElement(m.b,{to:"/card"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success ml-1"},"Pay Now"))))};var fe=function(){return l.a.createElement(A.a,{className:"main-Container"},l.a.createElement(ve,null),l.a.createElement(G,null))};var be=function(){return l.a.createElement(A.a,null,l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"cardNumberInput"},"Credit Card Number:"),l.a.createElement("input",{type:"text",className:"form-control",id:"cardNumberInput",placeholder:"0000-0000-0000-0000"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"cardExpInput"},"Exp. Date:"),l.a.createElement("input",{id:"cardExpInput",className:"form-control",type:"text",placeholder:"MM/YY"})),l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"CVCInput"},"CVC:"),l.a.createElement("input",{type:"text",className:"form-control",id:"CVCInput",placeholder:"On back of Card"}))),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"nameCardInput"},"Name on Card"),l.a.createElement("input",{type:"text",className:"form-control",id:"nameCardInput",placeholder:"Carole Baskin"})))),l.a.createElement(m.b,{to:"/checkout"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger mr-2"},"Back")),l.a.createElement(m.b,{to:"/tip"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success"},"Continue")))};var ke=function(){return l.a.createElement(A.a,{className:"main-Container"},l.a.createElement(be,null),l.a.createElement(G,null))};var Ce=function(){var e=Object(r.useContext)(y),t=e.openCheckState,a=e.resetTipMethod,n=e.handleTipChange,c=e.tipMethodState,u=e.handleTipMethodChange;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-5"},l.a.createElement("div",{className:"col-sm-12"},"radioTip"===c.tipMethod?l.a.createElement("form",null,l.a.createElement("div",{className:"form-check"},l.a.createElement("label",null,l.a.createElement("input",{onChange:n,type:"radio",name:"gratuity",value:10,className:"form-check-input"}),"10%")),l.a.createElement("div",{className:"form-check"},l.a.createElement("label",null,l.a.createElement("input",{onChange:n,type:"radio",name:"gratuity",value:15,className:"form-check-input"}),"15%")),l.a.createElement("div",{className:"form-check"},l.a.createElement("label",null,l.a.createElement("input",{onChange:n,type:"radio",name:"gratuity",value:20,className:"form-check-input"}),"20%")),l.a.createElement("div",{className:"form-check"},l.a.createElement("label",null,l.a.createElement("input",{onChange:u,value:"customTip",checked:"customTip"===c.tipMethod,type:"radio",name:"tipMethod",className:"form-check-input"}),"Other"))):l.a.createElement("div",null,l.a.createElement("h3",null,"Please enter a percentage. (e.g., 20, 30)"),l.a.createElement("input",{type:"number",onChange:n,name:"gratuity",value:t.gratuity||""})),l.a.createElement("div",{className:"form-group"},l.a.createElement(m.b,{to:"/card"},l.a.createElement(L.a,{className:"success-Btn",onClick:a,variant:"outline-danger mt-1"},"Back")),l.a.createElement(m.b,{to:"/confirmation"},l.a.createElement(L.a,{onClick:a,className:"success-Btn",variant:"outline-success mt-1 ml-1"},"Continue")))))))};var Ne=function(){return l.a.createElement(A.a,{className:"main-Container bg-table-in-vintage-restaurant"},l.a.createElement(Ce,null))};var Oe=function(){var e=Object(o.g)(),t=Object(r.useContext)(y),a=t.openCheckState,n=t.updateIsOrderPaidClick,c=t.initialState,u=t.setOrderState,i=t.isLoading,s=t.setIsLoading,E={backgroundColor:"#2d3436"};return l.a.createElement(l.a.Fragment,null,i?l.a.createElement(le,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Order Details"),l.a.createElement(se.a,{key:a.id,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:E},l.a.createElement("h5",null,"Tax")),l.a.createElement("td",null,a.tax,"%")),l.a.createElement("tr",null,l.a.createElement("th",{style:E},l.a.createElement("h5",null,"Gratuity")),l.a.createElement("td",null,a.gratuity,"%")),l.a.createElement("tr",null,l.a.createElement("th",{style:E},l.a.createElement("h5",null,"Total")),l.a.createElement("td",null,"$",a.total)),l.a.createElement("tr",null,l.a.createElement("th",{style:E},l.a.createElement("h5",null,"Grand Total")),l.a.createElement("td",null,"$",a.grand_total.toFixed(2))))),l.a.createElement(m.b,{to:"/tip"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-danger"},"Cancel")),l.a.createElement(m.b,{to:"/final"},l.a.createElement(L.a,{className:"success-Btn",variant:"outline-success ml-1",onClick:function(){s(!0),n().then((function(){return u(c)})).then((function(){return e.push("/final")}))}},"Pay"))))};var ye=function(){return l.a.createElement(A.a,{className:"main-Container"},l.a.createElement(Oe,null),l.a.createElement(G,null))},xe=function(){var e=Object(r.useContext)(y),t=e.errorState,a=e.isLoading,n=P().user;return a?l.a.createElement(le,null):l.a.createElement(A.a,null,null!==t?l.a.createElement(R,{text:"Exit",variant:"success",to:"/",button:"outline-danger"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{message:"Your check has been paid.",text:"Home",variant:"success",to:"/",button:"outline-success"}),l.a.createElement("br",null),l.a.createElement("img",{src:z.a,className:"app-logo mt-4 mb-2",alt:"logo"}),l.a.createElement("br",null),l.a.createElement("h1",null,"Thank you for your visit, ",n.first_name,"."),l.a.createElement("h2",null,"See you next time!")))},_e=function(){return l.a.createElement(A.a,{className:"main-Container img-background"},l.a.createElement(xe,null),l.a.createElement(G,null))};var je=function(){var e=Object(o.g)(),t=Object(r.useContext)(y),a=t.pastOrderState,n=t.viewOnePastOrder,c=t.setIsLoading,u=0;return l.a.createElement(A.a,null,l.a.createElement("h1",null,"Past Orders"),l.a.createElement(se.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Table Number"),l.a.createElement("th",null,"Gratuity"),l.a.createElement("th",null,"Grand Total"))),a.map((function(t){return l.a.createElement("tbody",{key:t.id},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(m.b,{to:"/order",onClick:function(){return a=t.id,c(!0),void n(a).then((function(){return e.push("/order")})).then((function(){return c(!1)}));var a}},l.a.createElement("p",null,u+=1))),l.a.createElement("td",null,t.table_number),l.a.createElement("td",null,t.gratuity,"%"),l.a.createElement("td",null,"$",t.grand_total.toFixed(2))))}))))};var Se=function(){return l.a.createElement(A.a,{className:"main-Container img-background"},l.a.createElement(je,null),l.a.createElement(G,null))},we=a(120),Ie=a(121);var Te=function(){var e=Object(r.useContext)(y),t=e.errorState,a=e.viewPastOrderState;if(e.isLoading)return l.a.createElement(le,{className:"mt-5"});var n=l.a.createElement(we.a,{id:"popover-basic"},l.a.createElement(we.a.Title,{as:"h3"},"Popover right"),l.a.createElement(we.a.Content,null,a.order_items.map((function(e){return l.a.createElement("p",{key:e.product_id},"".concat(e.product.product_name," (").concat(e.quantity,")"))})))),c=function(){return l.a.createElement(Ie.a,{trigger:"click",placement:"bottom",overlay:n},l.a.createElement(L.a,{size:"lg",variant:"link"},a.total_items))};return l.a.createElement(A.a,null,null!==t?l.a.createElement(R,{text:"Exit",variant:"danger",to:"/orders",button:"outline-danger"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Past Order"),l.a.createElement(se.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("tbody",null,l.a.createElement("tr",{key:a.id},l.a.createElement("th",null,"ID"),l.a.createElement("td",null,a.id)),l.a.createElement("tr",null,l.a.createElement("th",null,"Table Number"),l.a.createElement("td",null,a.table_number)),l.a.createElement("tr",null,l.a.createElement("th",null,"Items"),l.a.createElement("td",null,l.a.createElement(c,null))),l.a.createElement("tr",null,l.a.createElement("th",null,"Gratutity"),l.a.createElement("td",null,a.gratuity,"%")),l.a.createElement("tr",null,l.a.createElement("th",null,"Tax"),l.a.createElement("td",null,a.tax,"%")),l.a.createElement("tr",null,l.a.createElement("th",null,"Grand Total"),l.a.createElement("td",null,"$",a.grand_total.toFixed(2)))))))};var Be=function(){return l.a.createElement(A.a,{className:"main-Container img-background"},l.a.createElement(Te,null),l.a.createElement(G,null))},Fe=a(116);function Pe(){var e=Object(r.useContext)(y),t=e.orderState,a=e.openCheckState,c=0;t.order_items.filter((function(e){return c+=e.quantity}));var u=P(),o=u.isLoggedIn,i=u.logout,s=[];return o?(s.push({text:"Profile",to:"/profile"}),s.push({text:"Menu",to:"/menu"}),s.push({text:"Logout",onClick:function(){return i()}}),a.order_items&&s.push({text:l.a.createElement(Ee.a,{icon:de.d}),to:"/card"}),0!==t.order_items.length?s.push({text:"(".concat(c,")"),to:"/cart"}):s.push({text:l.a.createElement(Ee.a,{icon:de.e}),to:"/cart"})):(s.push({text:"Signup",to:"/signup"}),s.push({text:"Login",to:"/login"})),l.a.createElement("ul",{className:"navbar-nav"},s.map((function(e,t){return l.a.createElement("li",{key:t,className:"nav-item"},function(e){var t=e.text,a=e.to,r=Object(n.a)(e,["text","to"]);return a?l.a.createElement(m.b,Object.assign({className:"nav-link",to:a},r),t):l.a.createElement("span",Object.assign({role:"button",className:"nav-link",style:{cursor:"pointer"}},r),t)}(e))})))}var qe=function(){window.history.back()};var ze=function(){return l.a.createElement(Fe.a,{className:"navbar nav navbar-expand navbar-dark bg-primary",fixed:"top",expand:"lg"},l.a.createElement("div",{className:"container inner-nav-container"},l.a.createElement(m.b,{className:"navbar-brand",to:"/"},l.a.createElement("img",{src:z.a,className:"cheqmate-nav-logo",alt:"Cheqmate Nav Logo"})),l.a.createElement("span",{onClick:qe},l.a.createElement(Ee.a,{icon:de.c})),l.a.createElement(Pe,null)))};function Ae(e){var t=e.children;Object(n.a)(e,["children"]);return P().isLoggedIn?t:l.a.createElement(o.a,{to:"/signup"})}localStorage.getItem("id_token")&&(s.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("id_token"))),u.a.render(l.a.createElement(F,null,l.a.createElement(x,null,l.a.createElement(m.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(ze,null),l.a.createElement(o.d,null,l.a.createElement(Ae,{exact:!0,path:"/"},l.a.createElement($,null)),l.a.createElement(o.b,{exact:!0,path:"/login"},l.a.createElement(V,null)),l.a.createElement(o.b,{exact:!0,path:"/signup"},l.a.createElement(H,null)),l.a.createElement(Ae,{exact:!0,path:"/profile"},l.a.createElement(Y,null)),l.a.createElement(Ae,{exact:!0,path:"/table"},l.a.createElement(X,null)),l.a.createElement(Ae,{exact:!0,path:"/checkout"},l.a.createElement(fe,null)),l.a.createElement(Ae,{exact:!0,path:"/appetizer"},l.a.createElement(ie,null)),l.a.createElement(Ae,{exact:!0,path:"/cart"},l.a.createElement(ge,null)),l.a.createElement(Ae,{exact:!0,path:"/card"},l.a.createElement(ke,null)),l.a.createElement(Ae,{exact:!0,path:"/tip"},l.a.createElement(Ne,null)),l.a.createElement(Ae,{exact:!0,path:"/confirmation"},l.a.createElement(ye,null)),l.a.createElement(Ae,{exact:!0,path:"/final"},l.a.createElement(_e,null)),l.a.createElement(Ae,{exact:!0,path:"/orders"},l.a.createElement(Se,null)),l.a.createElement(Ae,{exact:!0,path:"/order"},l.a.createElement(Be,null)),l.a.createElement(Ae,{exact:!0,path:"/menu"},l.a.createElement(oe,null))))))),document.getElementById("root"))},12:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/cheqmate-logo.63b7f269.svg"},66:function(e,t,a){e.exports=a.p+"static/media/cheqmate-Q-logo.d257a536.svg"},74:function(e,t,a){e.exports=a(108)}},[[74,1,2]]]);
//# sourceMappingURL=main.f2d44e6f.chunk.js.map